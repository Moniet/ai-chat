const m="aiiko-sidebar",p="aiiko-resizer";const g=()=>{const e=document.getElementById(m),s=document.getElementById(p);if(e)return e.dataset.state==="open"?(e.classList.remove("aiiko-slide-in"),e.classList.add("aiiko-slide-out"),e.dataset.state="closed",s&&(s.style.display="none"),setTimeout(()=>{document.body.style.marginRight="0px"},200)):(e.classList.remove("aiiko-slide-out"),e.classList.add("aiiko-slide-in"),e.dataset.state="open",document.body.style.marginRight=e.style.width,s&&(s.style.display="block",s.style.right=e.style.width)),null;const n=new DOMParser().parseFromString(`<iframe
        frameborder="0"
        id=${m}
        allowtransparency="true"
        class="aiiko-slide-in"
        data-state="open"
        src="${chrome.runtime.getURL("src/components/pages/Sidebar/sidebar.html")}"
    ></iframe>`,"text/html").body.firstElementChild;Object.assign(n.style,{position:"fixed",top:"0px",right:"0px",height:"100vh",width:"450px",zIndex:1e6,border:"none",background:"transparent","color-scheme":"auto"}),document.body.style.marginRight="450px",document.body.append(n);const t=document.createElement("div");t.classList.add("aiiko-fade-in"),t.id=p,Object.assign(t.style,{position:"fixed",top:"0px",right:"450px",width:"5px",height:"100vh",background:"rgba(0, 0, 0, 0.1)",cursor:"col-resize",zIndex:1000001}),document.body.append(t);const d=document.createElement("div");Object.assign(d.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"transparent",zIndex:1000002,display:"none"}),document.body.append(d);let a=!1,r;const u=i=>{a=!0,r=i.clientX,d.style.display="block",document.addEventListener("mousemove",c),document.addEventListener("mouseup",l),document.body.style.userSelect="none",document.body.style.cursor="col-resize"},c=i=>{if(!a)return;const y=r-i.clientX,o=parseInt(n.style.width)+y;o>=450&&o<=900&&(n.style.width=`${o}px`,t.style.right=`${o}px`,document.body.style.marginRight=`${o}px`),r=i.clientX},l=()=>{a=!1,d.style.display="none",document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",l),document.body.style.userSelect="",document.body.style.cursor=""};t.addEventListener("mousedown",u)},h=async()=>{chrome.runtime.onMessage.addListener((e,s,n)=>{console.log("message",e);const{type:t}=e??{type:""};t==="inject-sidebar"&&g()})};h();
